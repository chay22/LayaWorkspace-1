var MonsterGenerator=function(t){function o(){}Laya.class(o,"MonsterGenerator",void 0);var a,r=o.prototype;return r.targetPos,r.targetTower,r.monsterBox,r.initGenerator=function(t,o){this.monsterBox=t,this.targetTower=o,this.towerPos=this.targetTower.parent.localToGlobal(new Point(this.targetTower.x,this.targetTower.y)),this.monsterBox.globalToLocal(this.towerPos),MonsterFactory.getInstance().initFactory(this.monsterBox)},r.createMonster=function(t){for(var o=[],a=0;a<t;a++){var r=MonsterFactory.getInstance().getMonsterFromPool();r.visible=!0,this.randomMonsterPos(r),o.push(r)}return o},r.randomMonsterPos=function(t){var o=4*Math.random()+1;o=parseInt(o,10);var a=parseInt(10*Math.random(),10),r=parseInt(3*Math.random(),10);r=a>7?2:a>4?1:0,t.initMonster(o,r);var n,e;1==o&&(n=new Point(-50-200*Math.random(),200*Math.random()),e=70*Math.random()+190),2==o&&(n=new Point(Laya.stage.width+50+200*Math.random(),200*-Math.random()),e=70*Math.random()+280),3==o&&(n=new Point(-50-200*Math.random(),Laya.stage.height+50+200*Math.random()),e=70*Math.random()+100),4==o&&(n=new Point(Laya.stage.width+50+200*Math.random(),Laya.stage.height+50+200*Math.random()),e=70*Math.random()+10),t.pos(n.x,n.y);var s=GetPointOnCircle(this.towerPos,this.targetTower.TowerRadios,e);t.setTargetPos(s,e)},{getInstance:function(){return void 0===a&&(a=new o),a}}}();